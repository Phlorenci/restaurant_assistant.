{% extends 'base.html' %}
{% block content %}
<h1 class="mb-4">{{ t['title_record_sales'] }}</h1>

<form method="post">
  <div class="mb-3">
    <label class="form-label">Date</label>
    <!-- Date input defaults to today; user can change it -->
    <input type="date" name="date" class="form-control" value="{{ date_str }}">
  </div>

  {% if menu_items %}
  <div class="table-responsive">
    <table class="table table-striped align-middle">
      <thead>
        <tr>
          <th>Menu Item</th>
          <th>Dine-in Qty</th>
          <th>Delivery Qty</th>
        </tr>
      </thead>
      <tbody>
        {% for item in menu_items %}
        <tr>
          <td>
            {{ item.name }}
            <!-- Hidden field to send back menu item id -->
            <input type="hidden" name="menu_id" value="{{ item.id }}">
          </td>
          <td>
            <input type="number"
                   name="dine_in_{{ item.id }}"
                   class="form-control"
                   min="0"
                   value="0">
          </td>
          <td>
            <input type="number"
                   name="delivery_{{ item.id }}"
                   class="form-control"
                   min="0"
                   value="0">
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <button type="submit" class="btn btn-primary">{{ t['btn_save'] }}</button>
  {% else %}
  <p>No active menu items found. Please add menu items first.</p>
  {% endif %}
</form>
{% endblock %}
